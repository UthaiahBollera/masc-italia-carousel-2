<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Automotive Carousel (Full Page)</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for the 3D carousel effect */
        html, body {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden; /* Prevent scrollbars */
        }
        
        body {
            background-color: #18202f;
            font-family: 'Inter', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .scene {
            width: 60vw;
            height: 45vh;
            max-width: 480px; /* Max width for larger screens */
            max-height: 360px; /* Max height for larger screens */
            position: relative;
            perspective: 1500px; /* Deeper perspective for a more dramatic effect */
        }

        .carousel {
            width: 100%;
            height: 100%;
            position: absolute;
            transform-style: preserve-3d;
            transition: transform 0.7s cubic-bezier(0.25, 0.1, 0.25, 1); /* Smoother transition */
        }

        .carousel__cell {
            position: absolute;
            width: 90%; /* Make cell smaller to create a gap */
            height: 90%; /* Make cell smaller to create a gap */
            left: 5%; /* Center the smaller cell */
            top: 5%; /* Center the smaller cell */
            background: #333;
            border-radius: 0;
            overflow: hidden;
            backface-visibility: hidden; /* Hide the back of the panels */
            box-shadow: 0 10px 20px rgba(0,0,0,0.2), 0 6px 6px rgba(0,0,0,0.25);
            display: flex;
            justify-content: center;
            align-items: center;
            border: 2px solid rgba(255, 255, 255, 0.1);
            cursor: pointer; /* Add cursor to indicate it's clickable */
            transition: transform 0.5s, opacity 0.5s;
        }

        .carousel__cell:not(.is-selected):hover {
            transform: scale(1.05); /* Slight zoom on hover for non-selected items */
            opacity: 0.9;
        }
        
        .carousel__cell img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            pointer-events: none; /* Prevents image dragging issues */
        }
    </style>
</head>
<body class="text-white">

    <div class="w-full h-full flex flex-col items-center justify-center relative p-4">
        <!-- Header Section -->
        <div class="absolute top-0 left-0 w-full pt-8 px-4 text-center z-20">
             <h1 id="carousel-title" class="text-3xl md:text-4xl font-bold mb-2 transition-opacity duration-500"></h1>
             <p class="text-gray-400">The Future of Mobility</p>
        </div>

        <!-- Side Navigation Arrows -->
        <button id="scene-prev-button" class="absolute left-4 md:left-8 top-1/2 -translate-y-1/2 z-20 p-3 rounded-full bg-black/30 hover:bg-black/50 transition-all text-white/70 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#18202f] focus:ring-[#e22f2f]">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
            </svg>
        </button>
        <button id="scene-next-button" class="absolute right-4 md:right-8 top-1/2 -translate-y-1/2 z-20 p-3 rounded-full bg-black/30 hover:bg-black/50 transition-all text-white/70 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#18202f] focus:ring-[#e22f2f]">
             <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8">
              <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
            </svg>
        </button>

        <!-- The 3D scene container -->
        <div class="scene">
            <div class="carousel">
                <!-- Carousel cells will be injected by JavaScript -->
            </div>
        </div>

        <!-- Details & Navigation Panel -->
        <div id="details-container" class="absolute bottom-0 left-0 w-full bg-[#101622]/80 backdrop-blur-sm text-white transform translate-y-full transition-transform duration-700 ease-in-out z-10">
            <div class="max-w-5xl mx-auto p-6 md:p-8">
                <div id="details-content" class="transition-opacity duration-300 text-center">
                     <h2 id="details-title" class="text-2xl font-bold mb-2"></h2>
                     <p id="details-description" class="text-gray-300 mb-6 max-w-2xl mx-auto"></p>
                </div>
                
                <!-- Navigation controls inside the panel -->
                <div class="flex items-center justify-center space-x-8 pt-4 border-t border-white/10">
                    <button id="prev-button" class="text-gray-500 hover:text-white transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#101622] focus:ring-[#e22f2f] rounded-md">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
                        </svg>
                    </button>
                    
                    <div id="slide-counter" class="text-gray-400 font-mono text-lg tracking-wider">
                        <!-- Counter will be injected by JavaScript -->
                    </div>

                    <button id="next-button" class="text-gray-500 hover:text-white transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#101622] focus:ring-[#e22f2f] rounded-md">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DATA ---
            const items = [
                { src: 'https://plus.unsplash.com/premium_photo-1715639312136-56a01f236440?q=80&w=1714&auto-format&fit-crop&ixlib-rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', title: 'Charging Infrastructure', description: 'A robust charging network is the backbone of the EV revolution, providing accessible and fast power-ups for electric vehicles on the go.' },
                { src: 'https://images.unsplash.com/photo-1615901555268-839b7a1ede54?q=80&w=2062&auto-format&fit-crop&ixlib-rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', title: 'Electric Vehicles', description: 'Sleek, silent, and sustainable. Modern electric vehicles offer exhilarating performance with zero tailpipe emissions, redefining the driving experience.' },
                { src: 'https://plus.unsplash.com/premium_photo-1661935334659-a4f95e515c3b?q=80&w=1722&auto-format&fit-crop&ixlib-rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', title: 'Electric Trucks', description: 'Electrifying logistics and heavy transport, these trucks combine immense torque and efficiency to deliver goods cleanly and quietly.' },
                { src: 'https://plus.unsplash.com/premium_photo-1733342421852-3bce709563e4?q=80&w=2064&auto-format&fit-crop&ixlib-rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', title: 'Hydrogen Trucks', description: 'Utilizing hydrogen fuel cells, these next-generation trucks offer long range and fast refueling, with water as their only emission.' },
                { src: 'https://images.unsplash.com/photo-1648594756894-151b3eb89400?q=80&w=1006&auto-format&fit-crop&ixlib-rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', title: 'Concept Supercar', description: 'A glimpse into the future of high performance, this concept pushes the boundaries of design, aerodynamics, and sustainable speed.' },
                { src: 'https://plus.unsplash.com/premium_photo-1677993185892-f7823f314c4c?q=80&w=774&auto-format&fit=crop&ixlib-rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', title: 'Luxury Sportscar', description: 'Combining breathtaking speed with unparalleled comfort and craftsmanship, representing the pinnacle of automotive luxury.' },
                { src: 'https://images.unsplash.com/photo-1592198084033-aade902d1aae?q=80&w=1740&auto-format&fit=crop&ixlib-rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', title: 'Classic Supercar', description: 'An icon of automotive history, its timeless design and raw power continue to captivate enthusiasts around the world.' },
                { src: 'https://images.unsplash.com/photo-1596731498067-99aeb581d3d7?q=80&w=1740&auto-format&fit=crop&ixlib-rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', title: 'Convenient Car Charging', description: 'Seamlessly integrated into daily life, home and public charging solutions make powering up an EV easier than ever.' },
            ];

            // --- DOM ELEMENTS ---
            const scene = document.querySelector('.scene');
            const carousel = document.querySelector('.carousel');
            const carouselTitleElement = document.getElementById('carousel-title');
            
            // Bottom Panel Controls
            const prevButton = document.getElementById('prev-button');
            const nextButton = document.getElementById('next-button');
            
            // Side Scene Controls
            const scenePrevButton = document.getElementById('scene-prev-button');
            const sceneNextButton = document.getElementById('scene-next-button');

            // Details Panel
            const detailsContainer = document.getElementById('details-container');
            const detailsContent = document.getElementById('details-content');
            const detailsTitle = document.getElementById('details-title');
            const detailsDescription = document.getElementById('details-description');
            const slideCounterElement = document.getElementById('slide-counter');


            // --- STATE ---
            let selectedIndex = 0;
            const cellCount = items.length;
            const rotationIncrement = 360 / cellCount;
            let radius = 0; // Will be calculated dynamically
            let detailsVisible = false;

            // --- FUNCTIONS ---

            function setupCarouselGeometry() {
                const sceneWidth = scene.offsetWidth;
                radius = Math.round((sceneWidth / 2) / Math.tan(Math.PI / cellCount));
                rotateCarousel(true); // Initial rotation without animation trigger
            }

            function rotateCarousel(isInitial = false) {
                const angle = rotationIncrement * selectedIndex * -1;
                carousel.style.transform = `translateZ(-${radius}px) rotateY(${angle}deg)`;
                
                const cells = document.querySelectorAll('.carousel__cell');
                cells.forEach((cell, i) => {
                    const cellAngle = rotationIncrement * i;
                    cell.style.transform = `rotateY(${cellAngle}deg) translateZ(${radius}px)`;
                    cell.classList.toggle('is-selected', i === selectedIndex);
                });

                if (!isInitial && !detailsVisible) {
                    detailsContainer.classList.remove('translate-y-full');
                    detailsVisible = true;
                }

                updateUI();
            }

            function updateUI() {
                // Update top title
                carouselTitleElement.classList.add('opacity-0');
                setTimeout(() => {
                    carouselTitleElement.textContent = items[selectedIndex].title;
                    carouselTitleElement.classList.remove('opacity-0');
                }, 250);
                
                // Update details panel content with fade effect
                detailsContent.classList.add('opacity-0');
                setTimeout(() => {
                    const currentItem = items[selectedIndex];
                    detailsTitle.textContent = currentItem.title;
                    detailsDescription.textContent = currentItem.description;
                    detailsContent.classList.remove('opacity-0');
                }, 300);


                // Update slide counter
                const current = String(selectedIndex + 1).padStart(2, '0');
                const total = String(cellCount).padStart(2, '0');
                slideCounterElement.textContent = `${current} / ${total}`;
            }

            function initializeCarousel() {
                items.forEach((item, i) => {
                    const cell = document.createElement('div');
                    cell.classList.add('carousel__cell');
                    cell.dataset.index = i; // Add index for click handling

                    const img = document.createElement('img');
                    img.src = item.src;
                    img.alt = item.title;
                    img.onerror = () => { 
                        img.src = `https://placehold.co/480x360/18202f/e22f2f?text=Image+Not+Found`;
                        img.alt = 'Image not found';
                    };
                    cell.appendChild(img);
                    carousel.appendChild(cell);
                });

                setupCarouselGeometry();
            }

            // --- EVENT LISTENERS ---
            prevButton.addEventListener('click', () => {
                selectedIndex--;
                if (selectedIndex < 0) selectedIndex = cellCount - 1;
                rotateCarousel();
            });

            nextButton.addEventListener('click', () => {
                selectedIndex++;
                if (selectedIndex >= cellCount) selectedIndex = 0;
                rotateCarousel();
            });

            scenePrevButton.addEventListener('click', () => prevButton.click());
            sceneNextButton.addEventListener('click', () => nextButton.click());
            
            carousel.addEventListener('click', (event) => {
                const targetCell = event.target.closest('.carousel__cell');
                if (targetCell && !targetCell.classList.contains('is-selected')) {
                    const index = parseInt(targetCell.dataset.index, 10);
                    if (!isNaN(index)) {
                        selectedIndex = index;
                        rotateCarousel();
                    }
                }
            });
            
            window.addEventListener('keydown', (event) => {
                if (event.key === 'ArrowLeft') prevButton.click();
                if (event.key === 'ArrowRight') nextButton.click();
            });

            window.addEventListener('resize', setupCarouselGeometry);

            // --- INITIALIZATION ---
            initializeCarousel();
        });
    </script>
</body>
</html>
